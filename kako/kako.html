<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
        <title>過去記録</title>
        <link rel="stylesheet" href="styles/kako.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="kako.js" defer></script>
</head>
<button id="rear" class="rear" onclick="modoru();"><img src ="styles/Back.png"></button>
<body>
    <div id="record-container">
        <h2>過去記録</h2>
        <div id="history-details">
          <!-- 動的に内容を表示 -->
        </div>
        <button id="prev-button">◀</button>
        <button id="next-button">▶</button>
      </div>
      

    <!--ユーザーネーム表示-->
    <div id="username"></div>

    <!--トレーニング履歴表示-->
    <div class="scrollable-memo" id="exerciseList"></div>


    <script>
        // ページが読み込まれたときにローカルストレージからデータを取得
        // ページロード時の処理
    window.onload = async function () {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = Number(urlParams.get('userId')); // userIdを数値として取得
        console.log('取得したuserId:', userId); // ここでuserIdを確認
        // userIdを使用してユーザーネームと過去記録を読み込む
        await loadAndDisplayuserName(userId);
        await loadRecord(userId, currentOffset); // 初期オフセット0で過去記録を読み込む
    }

    
    </script>
</body>

</html>